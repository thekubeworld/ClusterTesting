[{"apiVersion":"apps/v1","kind":"DaemonSet","metadata":{"annotations":{"deprecated.daemonset.template.generation":"1","sonobuoy-driver":"DaemonSet","sonobuoy-plugin":"systemd-logs"},"creationTimestamp":"2021-05-11T05:31:11Z","generation":1,"labels":{"component":"sonobuoy","sonobuoy-component":"plugin","sonobuoy-plugin":"systemd-logs","sonobuoy-run":"096864faad544180","tier":"analysis"},"managedFields":[{"apiVersion":"apps/v1","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:annotations":{".":{},"f:deprecated.daemonset.template.generation":{},"f:sonobuoy-driver":{},"f:sonobuoy-plugin":{}},"f:labels":{".":{},"f:component":{},"f:sonobuoy-component":{},"f:sonobuoy-plugin":{},"f:sonobuoy-run":{},"f:tier":{}},"f:ownerReferences":{".":{},"k:{\"uid\":\"131faf5c-08b9-4b82-94d6-dd931b9ad97d\"}":{".":{},"f:apiVersion":{},"f:kind":{},"f:name":{},"f:uid":{}}}},"f:spec":{"f:revisionHistoryLimit":{},"f:selector":{},"f:template":{"f:metadata":{"f:labels":{".":{},"f:component":{},"f:sonobuoy-component":{},"f:sonobuoy-plugin":{},"f:sonobuoy-run":{},"f:tier":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"sonobuoy-worker\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"AGGREGATOR_URL\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CA_CERT\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"CLIENT_CERT\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:secretKeyRef":{".":{},"f:key":{},"f:name":{}}}},"k:{\"name\":\"CLIENT_KEY\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:secretKeyRef":{".":{},"f:key":{},"f:name":{}}}},"k:{\"name\":\"NODE_NAME\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"RESULTS_DIR\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"RESULT_TYPE\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"SONOBUOY_PROGRESS_PORT\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/tmp/results\"}":{".":{},"f:mountPath":{},"f:name":{}}}},"k:{\"name\":\"systemd-logs\"}":{".":{},"f:command":{},"f:env":{".":{},"k:{\"name\":\"CHROOT_DIR\"}":{".":{},"f:name":{},"f:value":{}},"k:{\"name\":\"NODE_NAME\"}":{".":{},"f:name":{},"f:valueFrom":{".":{},"f:fieldRef":{".":{},"f:apiVersion":{},"f:fieldPath":{}}}},"k:{\"name\":\"RESULTS_DIR\"}":{".":{},"f:name":{},"f:value":{}}},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:resources":{},"f:securityContext":{".":{},"f:privileged":{}},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{},"f:volumeMounts":{".":{},"k:{\"mountPath\":\"/node\"}":{".":{},"f:mountPath":{},"f:name":{}},"k:{\"mountPath\":\"/tmp/results\"}":{".":{},"f:mountPath":{},"f:name":{}}}}},"f:dnsPolicy":{},"f:hostIPC":{},"f:hostNetwork":{},"f:hostPID":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:serviceAccount":{},"f:serviceAccountName":{},"f:terminationGracePeriodSeconds":{},"f:tolerations":{},"f:volumes":{".":{},"k:{\"name\":\"results\"}":{".":{},"f:emptyDir":{},"f:name":{}},"k:{\"name\":\"root\"}":{".":{},"f:hostPath":{".":{},"f:path":{},"f:type":{}},"f:name":{}}}}},"f:updateStrategy":{"f:rollingUpdate":{".":{},"f:maxUnavailable":{}},"f:type":{}}}},"manager":"sonobuoy","operation":"Update","time":"2021-05-11T05:31:11Z"},{"apiVersion":"apps/v1","fieldsType":"FieldsV1","fieldsV1":{"f:status":{"f:currentNumberScheduled":{},"f:desiredNumberScheduled":{},"f:numberReady":{},"f:numberUnavailable":{},"f:observedGeneration":{},"f:updatedNumberScheduled":{}}},"manager":"kube-controller-manager","operation":"Update","time":"2021-05-11T07:08:16Z"}],"name":"sonobuoy-systemd-logs-daemon-set-096864faad544180","namespace":"sonobuoy","ownerReferences":[{"apiVersion":"v1","kind":"Pod","name":"sonobuoy","uid":"131faf5c-08b9-4b82-94d6-dd931b9ad97d"}],"resourceVersion":"30645","uid":"01eba8c6-b346-43af-95e7-2996d3ea1243"},"spec":{"revisionHistoryLimit":10,"selector":{"matchLabels":{"sonobuoy-run":"096864faad544180"}},"template":{"metadata":{"creationTimestamp":null,"labels":{"component":"sonobuoy","sonobuoy-component":"plugin","sonobuoy-plugin":"systemd-logs","sonobuoy-run":"096864faad544180","tier":"analysis"}},"spec":{"containers":[{"command":["/bin/sh","-c","/get_systemd_logs.sh \u0026\u0026 while true; do echo \"Sleeping for 1h to avoid daemonset restart\"; sleep 3600; done"],"env":[{"name":"CHROOT_DIR","value":"/node"},{"name":"RESULTS_DIR","value":"/tmp/results"},{"name":"NODE_NAME","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"spec.nodeName"}}}],"image":"sonobuoy/systemd-logs:v0.3","imagePullPolicy":"Always","name":"systemd-logs","resources":{},"securityContext":{"privileged":true},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","volumeMounts":[{"mountPath":"/tmp/results","name":"results"},{"mountPath":"/node","name":"root"}]},{"command":["/sonobuoy","worker","single-node","-v=5","--logtostderr","--sleep=3600"],"env":[{"name":"NODE_NAME","valueFrom":{"fieldRef":{"apiVersion":"v1","fieldPath":"spec.nodeName"}}},{"name":"RESULTS_DIR","value":"/tmp/results"},{"name":"RESULT_TYPE","value":"systemd-logs"},{"name":"AGGREGATOR_URL","value":"https://[10.10.2.4]:8080"},{"name":"CA_CERT","value":"-----BEGIN CERTIFICATE-----\nMIIB8jCCAZegAwIBAgIBATAKBggqhkjOPQQDAjBgMQwwCgYDVQQGEwNVU0ExFjAU\nBgNVBAcTDVBhbG8gQWx0bywgQ0ExDzANBgNVBAoTBlZNd2FyZTERMA8GA1UECxMI\nU29ub2J1b3kxFDASBgNVBAMTC3Nvbm9idW95LWNhMB4XDTIxMDUxMTA1MzExMVoX\nDTIxMDUxMzA1MzExMVowYDEMMAoGA1UEBhMDVVNBMRYwFAYDVQQHEw1QYWxvIEFs\ndG8sIENBMQ8wDQYDVQQKEwZWTXdhcmUxETAPBgNVBAsTCFNvbm9idW95MRQwEgYD\nVQQDEwtzb25vYnVveS1jYTBZMBMGByqGSM49AgEGCCqGSM49AwEHA0IABP1ZXjU7\n0yIZiigTtO4PYoXHTSBEAywR7wlllc4+VSDTi1IfqhijFD4hxcNrMJzrlanhh3O/\no6HMhfFnjyBPQVWjQjBAMA4GA1UdDwEB/wQEAwICBDAPBgNVHRMBAf8EBTADAQH/\nMB0GA1UdDgQWBBQXtv1DkVMVs1zsJJ0V1GO5fUATYzAKBggqhkjOPQQDAgNJADBG\nAiEAgydVTP8IrbdfZZ9dqr1noJACMY7QZplkBKddzpwpyEQCIQCBLX4OLhd9oiyr\n9sdrUbzwgIUiJCQs5Duc3pwnj5R6Uw==\n-----END CERTIFICATE-----\n"},{"name":"CLIENT_CERT","valueFrom":{"secretKeyRef":{"key":"tls.crt","name":"sonobuoy-plugin-systemd-logs-096864faad544180"}}},{"name":"CLIENT_KEY","valueFrom":{"secretKeyRef":{"key":"tls.key","name":"sonobuoy-plugin-systemd-logs-096864faad544180"}}},{"name":"SONOBUOY_PROGRESS_PORT","value":"8099"}],"image":"sonobuoy/sonobuoy:v0.50.0","imagePullPolicy":"IfNotPresent","name":"sonobuoy-worker","resources":{},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","volumeMounts":[{"mountPath":"/tmp/results","name":"results"}]}],"dnsPolicy":"ClusterFirstWithHostNet","hostIPC":true,"hostNetwork":true,"hostPID":true,"restartPolicy":"Always","schedulerName":"default-scheduler","securityContext":{},"serviceAccount":"sonobuoy-serviceaccount","serviceAccountName":"sonobuoy-serviceaccount","terminationGracePeriodSeconds":30,"tolerations":[{"operator":"Exists"}],"volumes":[{"hostPath":{"path":"/","type":""},"name":"root"},{"emptyDir":{},"name":"results"}]}},"updateStrategy":{"rollingUpdate":{"maxUnavailable":1},"type":"RollingUpdate"}},"status":{"currentNumberScheduled":3,"desiredNumberScheduled":3,"numberMisscheduled":0,"numberReady":0,"numberUnavailable":3,"observedGeneration":1,"updatedNumberScheduled":3}}]